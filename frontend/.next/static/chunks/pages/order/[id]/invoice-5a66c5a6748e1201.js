(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1393],{29445:function(e,s,c){"use strict";c.d(s,{Z:function(){return t}});let t=(0,c(91373).Z)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},36100:function(e,s,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/order/[id]/invoice",function(){return c(28580)}])},28580:function(e,s,c){"use strict";c.r(s),c.d(s,{default:function(){return x}});var t=c(85893),a=c(69554),i=c.n(a),d=c(67294),n=c(11163),r=c(9008),l=c.n(r),o=c(29445);function x(){var e;let{id:s}=(0,n.useRouter)().query,[c,a]=(0,d.useState)(null),[r,x]=(0,d.useState)(!0),[h,p]=(0,d.useState)(null),j={name:"The Spice Emperor",brand:"Kasturi Masale",address:"Yavaluj, Gawaliwada, Tal. Panhala, Dist. Kolhapur - 416205",gstin:"27DXFPP4385E1Z5",email:"support@kasturimasale.in",phone:"+91 77373 79292"};(0,d.useEffect)(()=>{s&&b()},[s]);let b=async()=>{let e=localStorage.getItem("user");if(!e){p("Please login to view invoice"),x(!1);return}let c=JSON.parse(e);try{let e=await fetch("".concat("","/api/orders/user/").concat(s,"?uid=").concat(c.uid)),t=await e.json();t.success?a(t.order):p(t.message||"Order not found")}catch(e){console.error(e),p("Failed to load invoice")}finally{x(!1)}};if(r)return(0,t.jsx)("div",{className:"p-10 text-center",children:"Generating Invoice..."});if(h)return(0,t.jsx)("div",{className:"p-10 text-center text-red-500",children:h});if(!c)return(0,t.jsx)("div",{className:"p-10 text-center",children:"Order not found"});let g=e=>{let s=e/1.05;return{base:s,tax:e-s}},u=new Date(c.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"});return(0,t.jsxs)("div",{className:"jsx-c2557e97644cc94d invoice-container",children:[(0,t.jsx)(l(),{children:(0,t.jsxs)("title",{className:"jsx-c2557e97644cc94d",children:["Invoice #",c.orderId]})}),(0,t.jsx)("div",{className:"jsx-c2557e97644cc94d no-print print-bar",children:(0,t.jsxs)("button",{onClick:()=>window.print(),style:m.printBtn,className:"jsx-c2557e97644cc94d",children:[(0,t.jsx)(o.Z,{size:16})," Print Invoice"]})}),(0,t.jsxs)("div",{className:"jsx-c2557e97644cc94d sheet",children:[(0,t.jsx)("img",{src:"/images/brand/kasturi-logo-red.png",alt:"",className:"jsx-c2557e97644cc94d watermark"}),(0,t.jsxs)("header",{className:"jsx-c2557e97644cc94d header",children:[(0,t.jsxs)("div",{style:{display:"flex",gap:15,alignItems:"center"},className:"jsx-c2557e97644cc94d",children:[(0,t.jsx)("img",{src:"/images/logo-circle/kasturi-logo-red-circle.png",alt:"Logo",style:{width:80,height:80},className:"jsx-c2557e97644cc94d"}),(0,t.jsxs)("div",{className:"jsx-c2557e97644cc94d brand-col",children:[(0,t.jsx)("h1",{className:"jsx-c2557e97644cc94d brand-name",children:j.brand}),(0,t.jsxs)("div",{className:"jsx-c2557e97644cc94d biz-name",children:["By ",j.name]}),(0,t.jsxs)("div",{className:"jsx-c2557e97644cc94d biz-details",children:[j.address,(0,t.jsx)("br",{className:"jsx-c2557e97644cc94d"}),"GSTIN: ",(0,t.jsx)("strong",{className:"jsx-c2557e97644cc94d",children:j.gstin}),(0,t.jsx)("br",{className:"jsx-c2557e97644cc94d"}),"Contact: ",j.phone," | ",j.email]})]})]}),(0,t.jsxs)("div",{className:"jsx-c2557e97644cc94d invoice-meta",children:[(0,t.jsx)("h2",{className:"jsx-c2557e97644cc94d doc-title",children:"TAX INVOICE"}),(0,t.jsx)("table",{className:"jsx-c2557e97644cc94d meta-table",children:(0,t.jsxs)("tbody",{className:"jsx-c2557e97644cc94d",children:[(0,t.jsxs)("tr",{className:"jsx-c2557e97644cc94d",children:[(0,t.jsx)("td",{className:"jsx-c2557e97644cc94d",children:"Invoice No:"}),(0,t.jsx)("td",{className:"jsx-c2557e97644cc94d",children:(0,t.jsx)("strong",{className:"jsx-c2557e97644cc94d",children:c.orderId})})]}),(0,t.jsxs)("tr",{className:"jsx-c2557e97644cc94d",children:[(0,t.jsx)("td",{className:"jsx-c2557e97644cc94d",children:"Date:"}),(0,t.jsx)("td",{className:"jsx-c2557e97644cc94d",children:u})]}),(0,t.jsxs)("tr",{className:"jsx-c2557e97644cc94d",children:[(0,t.jsx)("td",{className:"jsx-c2557e97644cc94d",children:"Place of Supply:"}),(0,t.jsx)("td",{className:"jsx-c2557e97644cc94d",children:c.customer.state||"India"})]})]})})]})]}),(0,t.jsxs)("section",{className:"jsx-c2557e97644cc94d addresses",children:[(0,t.jsxs)("div",{className:"jsx-c2557e97644cc94d addr-box",children:[(0,t.jsx)("h3",{className:"jsx-c2557e97644cc94d",children:"Billed To:"}),(0,t.jsxs)("div",{className:"jsx-c2557e97644cc94d addr-content",children:[(0,t.jsx)("strong",{className:"jsx-c2557e97644cc94d",children:c.customer.name}),(0,t.jsx)("br",{className:"jsx-c2557e97644cc94d"}),c.customer.address,(0,t.jsx)("br",{className:"jsx-c2557e97644cc94d"}),c.customer.city,", ",c.customer.state," - ",c.customer.pincode,(0,t.jsx)("br",{className:"jsx-c2557e97644cc94d"}),"Phone: ",c.customer.phone]})]}),(0,t.jsxs)("div",{className:"jsx-c2557e97644cc94d addr-box",children:[(0,t.jsx)("h3",{className:"jsx-c2557e97644cc94d",children:"Shipped To:"}),(0,t.jsxs)("div",{className:"jsx-c2557e97644cc94d addr-content",children:[(0,t.jsx)("strong",{className:"jsx-c2557e97644cc94d",children:c.customer.name}),(0,t.jsx)("br",{className:"jsx-c2557e97644cc94d"}),c.customer.address,(0,t.jsx)("br",{className:"jsx-c2557e97644cc94d"}),c.customer.city,", ",c.customer.state," - ",c.customer.pincode,(0,t.jsx)("br",{className:"jsx-c2557e97644cc94d"})]})]})]}),(0,t.jsxs)("table",{className:"jsx-c2557e97644cc94d items-table",children:[(0,t.jsx)("thead",{className:"jsx-c2557e97644cc94d",children:(0,t.jsxs)("tr",{className:"jsx-c2557e97644cc94d",children:[(0,t.jsx)("th",{className:"jsx-c2557e97644cc94d",children:"#"}),(0,t.jsx)("th",{className:"jsx-c2557e97644cc94d text-left",children:"Item Description"}),(0,t.jsx)("th",{className:"jsx-c2557e97644cc94d",children:"HSN/SAC"}),(0,t.jsx)("th",{className:"jsx-c2557e97644cc94d",children:"Qty"}),(0,t.jsx)("th",{className:"jsx-c2557e97644cc94d",children:"Rate (Inc. Tax)"}),(0,t.jsx)("th",{className:"jsx-c2557e97644cc94d",children:"Taxable Value"}),(0,t.jsx)("th",{className:"jsx-c2557e97644cc94d",children:"CGST (2.5%)"}),(0,t.jsx)("th",{className:"jsx-c2557e97644cc94d",children:"SGST (2.5%)"}),(0,t.jsx)("th",{className:"jsx-c2557e97644cc94d text-right",children:"Total"})]})}),(0,t.jsx)("tbody",{className:"jsx-c2557e97644cc94d",children:c.items.map((e,s)=>{let c=e.price*e.quantity,{base:a,tax:i}=g(c),d=i/2;return(0,t.jsxs)("tr",{className:"jsx-c2557e97644cc94d",children:[(0,t.jsx)("td",{className:"jsx-c2557e97644cc94d",children:s+1}),(0,t.jsx)("td",{className:"jsx-c2557e97644cc94d text-left",children:(0,t.jsx)("strong",{className:"jsx-c2557e97644cc94d",children:function(e){if(!e)return"Kasturi Kolhapuri Masala";let s=e.toLowerCase().replace(/\s/g,"");return s.includes("200")?"Kasturi Kolhapuri kanda lasun Masala (Trial 200gm)":s.includes("500")?"Kasturi Kolhapuri kanda lasun Masala (Most Popular 500gm)":s.includes("1kg")?"Kasturi Kolhapuri kanda lasun Masala (Best Value 1kg)":s.includes("2kg")?"Kasturi Kolhapuri kanda lasun Masala (Family Pack 2kg)":"Kasturi Kolhapuri kanda lasun Masala (".concat(e,")")}(e.variant)})}),(0,t.jsx)("td",{className:"jsx-c2557e97644cc94d",children:"0910"}),(0,t.jsx)("td",{className:"jsx-c2557e97644cc94d",children:e.quantity}),(0,t.jsxs)("td",{className:"jsx-c2557e97644cc94d",children:["₹",e.price.toFixed(2)]}),(0,t.jsxs)("td",{className:"jsx-c2557e97644cc94d",children:["₹",a.toFixed(2)]}),(0,t.jsxs)("td",{className:"jsx-c2557e97644cc94d",children:["₹",d.toFixed(2)]}),(0,t.jsxs)("td",{className:"jsx-c2557e97644cc94d",children:["₹",d.toFixed(2)]}),(0,t.jsxs)("td",{className:"jsx-c2557e97644cc94d text-right",children:["₹",c.toFixed(2)]})]},s)})})]}),(0,t.jsxs)("div",{className:"jsx-c2557e97644cc94d totals-section",children:[(0,t.jsxs)("div",{className:"jsx-c2557e97644cc94d amount-words",children:[(0,t.jsx)("strong",{className:"jsx-c2557e97644cc94d",children:"Amount in Words:"}),(0,t.jsx)("br",{className:"jsx-c2557e97644cc94d"}),function(e){let s=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],c=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],t=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];return 0===e?"Zero":function e(a){return a<10?s[a]:a<20?c[a-10]:a<100?t[Math.floor(a/10)]+(a%10?" "+s[a%10]:""):a<1e3?s[Math.floor(a/100)]+" Hundred"+(a%100?" and "+e(a%100):""):a<1e5?e(Math.floor(a/1e3))+" Thousand"+(a%1e3?" "+e(a%1e3):""):a<1e7?e(Math.floor(a/1e5))+" Lakh"+(a%1e5?" "+e(a%1e5):""):"Many"}(e)}(Math.round(c.pricing.total))," Rupees Only"]}),(0,t.jsx)("table",{className:"jsx-c2557e97644cc94d totals-table",children:(0,t.jsxs)("tbody",{className:"jsx-c2557e97644cc94d",children:[(0,t.jsxs)("tr",{className:"jsx-c2557e97644cc94d",children:[(0,t.jsx)("td",{className:"jsx-c2557e97644cc94d",children:"Subtotal"}),(0,t.jsxs)("td",{className:"jsx-c2557e97644cc94d text-right",children:["₹",c.pricing.subtotal.toFixed(2)]})]}),c.pricing.discount>0&&(0,t.jsxs)("tr",{className:"jsx-c2557e97644cc94d text-green",children:[(0,t.jsx)("td",{className:"jsx-c2557e97644cc94d",children:"Discount"}),(0,t.jsxs)("td",{className:"jsx-c2557e97644cc94d text-right",children:["- ₹",c.pricing.discount.toFixed(2)]})]}),(0,t.jsxs)("tr",{className:"jsx-c2557e97644cc94d",children:[(0,t.jsx)("td",{className:"jsx-c2557e97644cc94d",children:"Shipping / COD Charges"}),(0,t.jsxs)("td",{className:"jsx-c2557e97644cc94d text-right",children:["₹",(null===(e=c.pricing.codFee)||void 0===e?void 0:e.toFixed(2))||"0.00"]})]}),(0,t.jsxs)("tr",{className:"jsx-c2557e97644cc94d grand-total",children:[(0,t.jsx)("td",{className:"jsx-c2557e97644cc94d",children:"Grand Total"}),(0,t.jsxs)("td",{className:"jsx-c2557e97644cc94d text-right",children:["₹",c.pricing.total.toFixed(2)]})]})]})})]}),(0,t.jsxs)("footer",{className:"jsx-c2557e97644cc94d footer",children:[(0,t.jsxs)("div",{className:"jsx-c2557e97644cc94d terms",children:[(0,t.jsx)("strong",{className:"jsx-c2557e97644cc94d",children:"Terms & Conditions:"}),(0,t.jsxs)("ol",{className:"jsx-c2557e97644cc94d",children:[(0,t.jsx)("li",{className:"jsx-c2557e97644cc94d",children:"This is a computer-generated invoice; no signature is required."}),(0,t.jsx)("li",{className:"jsx-c2557e97644cc94d",children:"Goods once sold will not be taken back or exchanged."}),(0,t.jsx)("li",{className:"jsx-c2557e97644cc94d",children:"All disputes are subject to Kolhapur jurisdiction only."}),(0,t.jsx)("li",{className:"jsx-c2557e97644cc94d",children:"Please check the package at the time of delivery. Any damage or shortage must be reported within 24 hours of delivery."}),(0,t.jsx)("li",{className:"jsx-c2557e97644cc94d",children:"For food products, returns are accepted only in case of manufacturing defects or damaged packages."})]})]}),(0,t.jsx)("div",{className:"jsx-c2557e97644cc94d signature",children:(0,t.jsxs)("div",{className:"jsx-c2557e97644cc94d sign-box",children:["For ",j.name,(0,t.jsx)("div",{className:"jsx-c2557e97644cc94d sign-space",children:(0,t.jsx)("small",{className:"jsx-c2557e97644cc94d",children:"(Computer Generated)"})}),"Authorized Signatory"]})})]})]}),(0,t.jsx)(i(),{id:"c2557e97644cc94d",children:'@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");body{background:#555;margin:0;font-family:"Inter",sans-serif;-webkit-print-color-adjust:exact}.invoice-container{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;alignitems:center;padding:20px;min-height:100vh}.print-bar{margin-bottom:20px}.sheet{background:white;width:210mm;min-height:297mm;padding:40px;-webkit-box-shadow:0 0 10px rgba(0,0,0,.1);-moz-box-shadow:0 0 10px rgba(0,0,0,.1);box-shadow:0 0 10px rgba(0,0,0,.1);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative}.header{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:30px;border-bottom:2px solid#eee;padding-bottom:20px;position:relative;z-index:2}.watermark{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:60%;opacity:.08;z-index:1;pointer-events:none}.brand-name{font-size:28px;font-weight:600;color:#1f2937;margin:0;text-transform:uppercase;letter-spacing:-1px}.biz-name{font-size:14px;color:#4b5563;font-weight:400;margin-bottom:8px}.biz-details{font-size:12px;line-height:1.5;color:#6b7280;max-width:300px;font-weight:400}.doc-title{font-size:24px;font-weight:600;color:#374151;margin:0 0 10px 0;text-align:right}.meta-table td{padding:2px 0;font-size:13px;text-align:right;font-weight:400}.meta-table td:first-child{padding-right:15px;color:#6b7280;font-weight:500}.addresses{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:20px;margin-bottom:30px}.addr-box{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;border:1px solid#e5e7eb;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;padding:12px}.addr-box h3{margin:0 0 8px 0;font-size:11px;text-transform:uppercase;color:#6b7280;letter-spacing:.5px;font-weight:500}.addr-content{font-size:13px;line-height:1.5;color:#1f2937;font-weight:400}.items-table{width:100%;border-collapse:collapse;margin-bottom:30px}.items-table th{background:#f9fafb;padding:10px;font-size:11px;text-transform:uppercase;border-bottom:1px solid#e5e7eb;color:#4b5563;text-align:center;font-weight:500}.items-table td{padding:12px 10px;font-size:13px;border-bottom:1px solid#f3f4f6;text-align:center;color:#374151;font-weight:400}.items-table .text-left{text-align:left}.items-table .text-right{text-align:right}.totals-section{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;justifycontent:space-between;margin-bottom:40px}.amount-words{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;font-size:13px;color:#4b5563;padding-right:40px;font-weight:400}.totals-table{width:300px;border-collapse:collapse}.totals-table td{padding:6px 0;font-size:13px;color:#374151;font-weight:400}.totals-table .text-right{text-align:right}.grand-total td{font-weight:700;font-size:16px;border-top:1px solid#e5e7eb;padding-top:10px;margin-top:10px;color:#111827}.footer{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-top:auto;padding-top:20px;border-top:1px solid#eee}.terms{font-size:11px;color:#6b7280;max-width:60%;font-weight:400}.terms ol{padding-left:15px;margin:5px 0 0 0}.terms li{margin-bottom:2px}.signature{text-align:center}.sign-box{font-size:12px;font-weight:500;color:#374151}.sign-space{height:60px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;alignitems:center;justifycontent:center;color:#9ca3af}@media print{body{background:white}.no-print{display:none}.invoice-container{padding:0;width:100%;height:100%;display:block}.sheet{width:100%;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;padding:0}@page{margin:15mm}}'})]})}let m={printBtn:{display:"flex",alignItems:"center",gap:8,background:"#111827",color:"white",border:"none",padding:"10px 20px",borderRadius:8,cursor:"pointer",fontSize:14,fontWeight:500,boxShadow:"0 4px 6px rgba(0,0,0,0.1)"}}}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=36100)}),_N_E=e.O()}]);