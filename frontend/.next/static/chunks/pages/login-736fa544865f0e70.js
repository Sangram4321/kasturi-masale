(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{36429:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(95049)}])},95049:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return l}});var r=a(85893),i=a(69554),o=a.n(i),s=a(67294),n=a(11163),d=a(2753),c=a(73892);function l(){let e=(0,n.useRouter)(),[t,a]=(0,s.useState)(""),[i,l]=(0,s.useState)(""),[x,b]=(0,s.useState)(""),[p,g]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{try{let e=await (0,d.cx)(c.I);if(e){console.log("Redirect Auth Success:",e.user.uid),await u(e.user);return}}catch(e){console.error("Redirect Result Error:",e),b(e.message)}finally{g(!1)}})()},[]),(0,s.useEffect)(()=>{document.body.style.overflow="auto"},[]);let u=async t=>{let a={uid:t.uid,name:t.displayName,email:t.email,photo:t.photoURL,phone:t.phoneNumber};try{let e=await fetch("/api/user/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),t=await e.json();t.success&&t.token&&localStorage.setItem("token",t.token)}catch(e){console.error("Sync failed",e)}localStorage.setItem("auth","true"),localStorage.setItem("user",JSON.stringify(a)),window.dispatchEvent(new Event("auth-change")),await new Promise(e=>setTimeout(e,100));let r=e.query.redirect;r&&"/login"!==r?e.push(r):e.push("/")},m=async e=>{e.preventDefault(),b("");try{let e=await (0,d.e5)(c.I,t,i);u(e.user)}catch(e){b("Invalid email or password.")}},f=async e=>{e.preventDefault(),b("");let t=new d.hJ;try{let e=await (0,d.rh)(c.I,t);u(e.user)}catch(e){console.warn("Popup failed/closed, trying redirect fallback...",e.code);try{await (0,d.F6)(c.I,t)}catch(e){console.error("Redirect failed",e),b(e.message)}}},h=async e=>{e.preventDefault(),b("");let t=new d._O;try{let e=await (0,d.rh)(c.I,t);u(e.user)}catch(e){console.warn("Popup failed/closed, trying redirect fallback...",e.code);try{await (0,d.F6)(c.I,t)}catch(e){console.error("Redirect failed",e),b(e.message)}}};return p?(0,r.jsxs)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#000"},children:[(0,r.jsx)("div",{className:"spinner",style:{width:40,height:40,border:"3px solid #333",borderTopColor:"#fff",borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,r.jsx)("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]}):(0,r.jsxs)("div",{className:"jsx-51eda0d373c890ed login-page",children:[(0,r.jsx)("div",{className:"jsx-51eda0d373c890ed login-overlay"}),(0,r.jsxs)("div",{className:"jsx-51eda0d373c890ed login-card",children:[(0,r.jsx)("h1",{className:"jsx-51eda0d373c890ed login-title",children:"Login"}),x&&(0,r.jsx)("div",{style:{color:"#ff6666",marginBottom:"15px",textAlign:"center",fontSize:"14px",background:"rgba(255,0,0,0.1)",padding:"8px",borderRadius:"4px"},className:"jsx-51eda0d373c890ed",children:x}),(0,r.jsxs)("form",{onSubmit:m,className:"jsx-51eda0d373c890ed login-form",children:[(0,r.jsx)("label",{className:"jsx-51eda0d373c890ed",children:"Email"}),(0,r.jsx)("input",{type:"email",placeholder:"Enter your email",value:t,onChange:e=>a(e.target.value),required:!0,className:"jsx-51eda0d373c890ed"}),(0,r.jsx)("label",{className:"jsx-51eda0d373c890ed",children:"Password"}),(0,r.jsx)("input",{type:"password",placeholder:"Enter your password",value:i,onChange:e=>l(e.target.value),required:!0,className:"jsx-51eda0d373c890ed"}),(0,r.jsxs)("div",{className:"jsx-51eda0d373c890ed login-row",children:[(0,r.jsxs)("label",{className:"jsx-51eda0d373c890ed remember",children:[(0,r.jsx)("input",{type:"checkbox",className:"jsx-51eda0d373c890ed"}),"Remember me"]}),(0,r.jsx)("button",{type:"button",onClick:()=>e.push("/forgot-password"),className:"jsx-51eda0d373c890ed link-btn",children:"Forgot password?"})]}),(0,r.jsx)("button",{type:"submit",className:"jsx-51eda0d373c890ed login-btn",children:"Log In"})]}),(0,r.jsxs)("p",{className:"jsx-51eda0d373c890ed register-text",children:["Don't have an account?"," ",(0,r.jsx)("span",{onClick:()=>e.push("/signup"),className:"jsx-51eda0d373c890ed",children:"Register"})]}),(0,r.jsx)("div",{className:"jsx-51eda0d373c890ed divider",children:(0,r.jsx)("span",{className:"jsx-51eda0d373c890ed",children:"OR"})}),(0,r.jsx)("button",{type:"button",onClick:f,className:"jsx-51eda0d373c890ed oauth-btn",children:"Continue with Google"}),(0,r.jsx)("button",{type:"button",onClick:h,className:"jsx-51eda0d373c890ed oauth-btn",children:"Continue with Facebook"})]}),(0,r.jsx)(o(),{id:"51eda0d373c890ed",children:'.login-page.jsx-51eda0d373c890ed{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;background:url("/images/login/hero-bg.jpg")center/cover no-repeat;position:relative}.login-overlay.jsx-51eda0d373c890ed{position:absolute;inset:0;background:rgba(0,0,0,.45)}.login-card.jsx-51eda0d373c890ed{position:relative;z-index:2;width:100%;max-width:420px;padding:32px 28px;background:rgba(0,0,0,0);backdrop-filter:blur(10px)saturate(160%);-webkit-backdrop-filter:blur(10px)saturate(160%);border:1px solid rgba(255,255,255,.15);-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px;-webkit-box-shadow:0 30px 60px rgba(0,0,0,.5);-moz-box-shadow:0 30px 60px rgba(0,0,0,.5);box-shadow:0 30px 60px rgba(0,0,0,.5);color:white}.login-title.jsx-51eda0d373c890ed{text-align:center;font-size:28px;margin-bottom:24px}label.jsx-51eda0d373c890ed{font-size:14px;color:rgba(255,255,255,.8)}input[type="email"].jsx-51eda0d373c890ed,input[type="password"].jsx-51eda0d373c890ed{width:100%;background:transparent;border:none;border-bottom:1px solid rgba(255,255,255,.3);padding:12px 4px;margin-bottom:24px;color:white;font-size:16px;-webkit-transition:all.3s cubic-bezier(.25,.8,.25,1);-moz-transition:all.3s cubic-bezier(.25,.8,.25,1);-o-transition:all.3s cubic-bezier(.25,.8,.25,1);transition:all.3s cubic-bezier(.25,.8,.25,1)}input.jsx-51eda0d373c890ed:focus{outline:none;border-bottom-color:#fff;background:-webkit-linear-gradient(left,rgba(255,255,255,.05),transparent);background:-moz-linear-gradient(left,rgba(255,255,255,.05),transparent);background:-o-linear-gradient(left,rgba(255,255,255,.05),transparent);background:linear-gradient(to right,rgba(255,255,255,.05),transparent);padding-left:10px}.login-row.jsx-51eda0d373c890ed{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-size:13px;margin-bottom:30px;color:rgba(255,255,255,.8)}.remember.jsx-51eda0d373c890ed{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:8px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer}input[type="checkbox"].jsx-51eda0d373c890ed{accent-color:#fff;width:16px;height:16px;cursor:pointer}.link-btn.jsx-51eda0d373c890ed{background:none;border:none;color:#e0e0e0;cursor:pointer;-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;transition:.2s}.link-btn.jsx-51eda0d373c890ed:hover{color:#fff;text-decoration:underline}.login-btn.jsx-51eda0d373c890ed{width:100%;padding:14px;background:#fff;color:#000;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;font-weight:700;font-size:16px;border:none;cursor:pointer;-webkit-transition:all.3s cubic-bezier(.25,.8,.25,1);-moz-transition:all.3s cubic-bezier(.25,.8,.25,1);-o-transition:all.3s cubic-bezier(.25,.8,.25,1);transition:all.3s cubic-bezier(.25,.8,.25,1);-webkit-box-shadow:0 4px 15px rgba(255,255,255,.1);-moz-box-shadow:0 4px 15px rgba(255,255,255,.1);box-shadow:0 4px 15px rgba(255,255,255,.1);letter-spacing:.5px}.login-btn.jsx-51eda0d373c890ed:hover{-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px);-webkit-box-shadow:0 8px 25px rgba(255,255,255,.25);-moz-box-shadow:0 8px 25px rgba(255,255,255,.25);box-shadow:0 8px 25px rgba(255,255,255,.25)}.login-btn.jsx-51eda0d373c890ed:active{-webkit-transform:scale(.96);-moz-transform:scale(.96);-ms-transform:scale(.96);-o-transform:scale(.96);transform:scale(.96);-webkit-box-shadow:0 2px 10px rgba(255,255,255,.1);-moz-box-shadow:0 2px 10px rgba(255,255,255,.1);box-shadow:0 2px 10px rgba(255,255,255,.1)}.register-text.jsx-51eda0d373c890ed{text-align:center;margin:24px 0;font-size:14px;color:rgba(255,255,255,.8)}.register-text.jsx-51eda0d373c890ed span.jsx-51eda0d373c890ed{font-weight:600;cursor:pointer;color:#fff;margin-left:5px;-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;transition:.2s}.register-text.jsx-51eda0d373c890ed span.jsx-51eda0d373c890ed:hover{text-decoration:underline}.divider.jsx-51eda0d373c890ed{text-align:center;margin:20px 0;position:relative}.divider.jsx-51eda0d373c890ed::before{content:"";position:absolute;top:50%;left:0;width:100%;height:1px;background:rgba(255,255,255,.15)}.divider.jsx-51eda0d373c890ed span.jsx-51eda0d373c890ed{background:rgba(0,0,0,.4);padding:0 10px;font-size:12px;color:rgba(255,255,255,.5);position:relative;z-index:2;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px}.oauth-btn.jsx-51eda0d373c890ed{width:100%;padding:12px;margin-top:14px;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.2);color:white;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;cursor:pointer;font-weight:500;font-size:14px;-webkit-transition:all.3s cubic-bezier(.25,.8,.25,1);-moz-transition:all.3s cubic-bezier(.25,.8,.25,1);-o-transition:all.3s cubic-bezier(.25,.8,.25,1);transition:all.3s cubic-bezier(.25,.8,.25,1);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:10px}.oauth-btn.jsx-51eda0d373c890ed:hover{background:rgba(255,255,255,.1);border-color:#fff;-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px);-webkit-box-shadow:0 4px 15px rgba(0,0,0,.2);-moz-box-shadow:0 4px 15px rgba(0,0,0,.2);box-shadow:0 4px 15px rgba(0,0,0,.2)}.oauth-btn.jsx-51eda0d373c890ed:active{-webkit-transform:scale(.98);-moz-transform:scale(.98);-ms-transform:scale(.98);-o-transform:scale(.98);transform:scale(.98);background:rgba(255,255,255,.15)}@media(max-width:480px){.login-card.jsx-51eda0d373c890ed{margin:16px;padding:28px 22px}}'})]})}}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=36429)}),_N_E=e.O()}]);