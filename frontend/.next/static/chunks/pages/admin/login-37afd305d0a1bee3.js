(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2300],{73510:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});let o=(0,a(91373).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},11607:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});let o=(0,a(91373).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},34464:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});let o=(0,a(91373).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},46863:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/login",function(){return a(35363)}])},35363:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var o=a(85893),r=a(69554),i=a.n(r),n=a(67294),s=a(11163),l=a(9008),d=a.n(l),c=a(11607),f=a(34464),x=a(73510);let b=(0,a(91373).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),m=e=>{let{id:t,label:a,type:r="text",value:s,onChange:l,error:d,disabled:b,autoFocus:m,maxLength:p}=e,[g,u]=(0,n.useState)(!1),[w,k]=(0,n.useState)(!1),y="password"===r,j=g||s&&s.length>0;return(0,o.jsxs)("div",{className:"jsx-767bfc89d8f99d08 "+"input-container ".concat(j?"active":""," ").concat(d?"error":""),children:[(0,o.jsxs)("div",{className:"jsx-767bfc89d8f99d08 input-wrapper",children:[(0,o.jsx)("input",{id:t,type:y?w?"text":"password":r,value:s,onChange:l,onFocus:()=>u(!0),onBlur:()=>u(!1),disabled:b,autoFocus:m,maxLength:p,"aria-invalid":!!d,"aria-describedby":d?"".concat(t,"-error"):void 0,placeholder:" ",className:"jsx-767bfc89d8f99d08 input-field"}),(0,o.jsx)("label",{htmlFor:t,className:"jsx-767bfc89d8f99d08 floating-label",children:a}),y&&(0,o.jsx)("button",{type:"button",onClick:()=>k(!w),"aria-label":w?"Hide password":"Show password",className:"jsx-767bfc89d8f99d08 toggle-password",children:w?(0,o.jsx)(c.Z,{size:20}):(0,o.jsx)(f.Z,{size:20})})]}),d&&(0,o.jsxs)("div",{id:"".concat(t,"-error"),role:"alert",className:"jsx-767bfc89d8f99d08 field-error",children:[(0,o.jsx)(x.Z,{size:14}),(0,o.jsx)("span",{className:"jsx-767bfc89d8f99d08",children:d})]}),(0,o.jsx)(i(),{id:"767bfc89d8f99d08",children:'.input-container.jsx-767bfc89d8f99d08{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:6px;position:relative}.input-wrapper.jsx-767bfc89d8f99d08{position:relative;background:#F3F4F6;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;border:2px solid transparent;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.input-container.active.jsx-767bfc89d8f99d08 .input-wrapper.jsx-767bfc89d8f99d08{background:#FFF;border-color:#E5E7EB;-webkit-box-shadow:0 4px 6px -1px rgba(0,0,0,.02);-moz-box-shadow:0 4px 6px -1px rgba(0,0,0,.02);box-shadow:0 4px 6px -1px rgba(0,0,0,.02)}.input-container.jsx-767bfc89d8f99d08:focus-within .input-wrapper.jsx-767bfc89d8f99d08{background:#FFF;border-color:#111827;-webkit-box-shadow:0 0 0 4px rgba(0,0,0,.05);-moz-box-shadow:0 0 0 4px rgba(0,0,0,.05);box-shadow:0 0 0 4px rgba(0,0,0,.05)}.input-container.error.jsx-767bfc89d8f99d08 .input-wrapper.jsx-767bfc89d8f99d08{background:#FEF2F2;border-color:#FECACA}.input-container.error.jsx-767bfc89d8f99d08:focus-within .input-wrapper.jsx-767bfc89d8f99d08{border-color:#DC2626;-webkit-box-shadow:0 0 0 4px rgba(220,38,38,.1);-moz-box-shadow:0 0 0 4px rgba(220,38,38,.1);box-shadow:0 0 0 4px rgba(220,38,38,.1)}.input-field.jsx-767bfc89d8f99d08{width:100%;padding:24px 16px 8px;border:none;background:transparent;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;font-size:16px;font-weight:500;color:#111827;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;outline:none}.floating-label.jsx-767bfc89d8f99d08{position:absolute;left:16px;top:18px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;font-size:16px;color:#6B7280;pointer-events:none;-webkit-transition:all.2s cubic-bezier(.4,0,.2,1);-moz-transition:all.2s cubic-bezier(.4,0,.2,1);-o-transition:all.2s cubic-bezier(.4,0,.2,1);transition:all.2s cubic-bezier(.4,0,.2,1);-webkit-transform-origin:left top;-moz-transform-origin:left top;-ms-transform-origin:left top;-o-transform-origin:left top;transform-origin:left top}.input-container.active.jsx-767bfc89d8f99d08 .floating-label.jsx-767bfc89d8f99d08{-webkit-transform:translatey(-10px)scale(.85);-moz-transform:translatey(-10px)scale(.85);-ms-transform:translatey(-10px)scale(.85);-o-transform:translatey(-10px)scale(.85);transform:translatey(-10px)scale(.85);color:#4B5563;font-weight:600}.input-container.jsx-767bfc89d8f99d08:focus-within .floating-label.jsx-767bfc89d8f99d08{color:#111827}.input-container.error.jsx-767bfc89d8f99d08 .floating-label.jsx-767bfc89d8f99d08{color:#DC2626}.toggle-password.jsx-767bfc89d8f99d08{position:absolute;right:12px;top:50%;-webkit-transform:translatey(-50%);-moz-transform:translatey(-50%);-ms-transform:translatey(-50%);-o-transform:translatey(-50%);transform:translatey(-50%);background:none;border:none;color:#6B7280;cursor:pointer;padding:8px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:background.2s;-moz-transition:background.2s;-o-transition:background.2s;transition:background.2s}.toggle-password.jsx-767bfc89d8f99d08:hover{background:rgba(0,0,0,.05);color:#374151}.field-error.jsx-767bfc89d8f99d08{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:6px;color:#DC2626;font-size:13px;font-weight:500;margin-left:4px;-webkit-animation:slideDown.2s ease-out;-moz-animation:slideDown.2s ease-out;-o-animation:slideDown.2s ease-out;animation:slideDown.2s ease-out}@-webkit-keyframes slideDown{from{opacity:0;-webkit-transform:translatey(-4px);transform:translatey(-4px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes slideDown{from{opacity:0;-moz-transform:translatey(-4px);transform:translatey(-4px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes slideDown{from{opacity:0;-o-transform:translatey(-4px);transform:translatey(-4px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes slideDown{from{opacity:0;-webkit-transform:translatey(-4px);-moz-transform:translatey(-4px);-o-transform:translatey(-4px);transform:translatey(-4px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}'})]})};function p(){let e=(0,s.useRouter)(),[t,a]=(0,n.useState)(""),[r,l]=(0,n.useState)(""),[c,f]=(0,n.useState)(""),[p,g]=(0,n.useState)(!1),[u,w]=(0,n.useState)({}),[k,y]=(0,n.useState)(""),[j,h]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e={};p?c&&c.length<6&&(e.token="Code must be 6 digits"):r&&r.length>0&&r.length<4&&(e.password="Password is too short"),w(t=>({...t,...e}))},[t,r,c,p]);let z=()=>{let e={};return p?(!c||c.length<6)&&(e.token="Please enter a valid 6-digit code"):(t.trim()||(e.username="Username is required"),r||(e.password="Password is required")),w(e),0===Object.keys(e).length},v=async a=>{if(a.preventDefault(),y(""),z()){h(!0);try{let a={username:t,password:r};p&&(a.token=c);let o=await fetch("".concat("","/api/admin/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),i=await o.json();i.success?(localStorage.setItem("admin_auth","true"),localStorage.setItem("admin_auth_time",Date.now()),i.token&&localStorage.setItem("admin_token",i.token),localStorage.setItem("admin_user",JSON.stringify(i.data)),e.replace("/admin")):i.require2FA?(g(!0),y("")):y(i.message||"Invalid credentials")}catch(e){console.error("Admin Login Error:",e),y("Unable to connect. Please check your internet.")}finally{h(!1)}}};return(0,o.jsxs)("div",{className:"jsx-623fc7f73535f463 page-container",children:[(0,o.jsxs)(d(),{children:[(0,o.jsx)("title",{className:"jsx-623fc7f73535f463",children:"Sign In | Admin Portal"}),(0,o.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1",className:"jsx-623fc7f73535f463"})]}),(0,o.jsxs)("div",{className:"jsx-623fc7f73535f463 login-wrapper",children:[(0,o.jsx)("div",{style:{zIndex:0},className:"jsx-623fc7f73535f463 ambient-glow"}),(0,o.jsx)("div",{style:{zIndex:1},className:"jsx-623fc7f73535f463 glass-contrast"}),(0,o.jsxs)("main",{className:"jsx-623fc7f73535f463 login-card",children:[(0,o.jsxs)("div",{className:"jsx-623fc7f73535f463 header",children:[(0,o.jsx)("img",{src:"/images/logo-circle/kasturi-logo-red-circle.png",alt:"Kasturi Masale",className:"jsx-623fc7f73535f463 logo"}),(0,o.jsx)("h1",{className:"jsx-623fc7f73535f463 title",children:p?"Security Check":"Admin Portal"}),(0,o.jsx)("p",{className:"jsx-623fc7f73535f463 subtitle",children:p?"Enter the 2FA code from your authenticator app":"Sign in to manage your dashboard"})]}),k&&(0,o.jsxs)("div",{role:"alert",className:"jsx-623fc7f73535f463 global-error",children:[(0,o.jsx)(x.Z,{size:18}),(0,o.jsx)("span",{className:"jsx-623fc7f73535f463",children:k})]}),(0,o.jsxs)("form",{onSubmit:v,noValidate:!0,className:"jsx-623fc7f73535f463 form-stack",children:[p?(0,o.jsx)(m,{id:"token",label:"Authenticator Code",value:c,onChange:e=>{/^\d*$/.test(e.target.value)&&(f(e.target.value),u.token&&w(e=>({...e,token:null})))},maxLength:6,error:u.token,disabled:j,autoFocus:!0,type:"tel"}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m,{id:"username",label:"Username",value:t,onChange:e=>{a(e.target.value),u.username&&w(e=>({...e,username:null}))},error:u.username,disabled:j,autoFocus:!0}),(0,o.jsx)(m,{id:"password",label:"Password",type:"password",value:r,onChange:e=>{l(e.target.value),u.password&&w(e=>({...e,password:null}))},error:u.password,disabled:j})]}),(0,o.jsxs)("button",{type:"submit",disabled:j,className:"jsx-623fc7f73535f463 submit-btn",children:[j&&(0,o.jsx)(b,{size:18,className:"spin"}),(0,o.jsx)("span",{className:"jsx-623fc7f73535f463",children:j?"Signing in...":p?"Verify Code":"Sign In"})]})]}),(0,o.jsx)("div",{className:"jsx-623fc7f73535f463 footer",children:(0,o.jsx)("p",{className:"jsx-623fc7f73535f463",children:"Protected by secure 256-bit encryption"})})]})]}),(0,o.jsx)(i(),{id:"623fc7f73535f463",children:'.page-container.jsx-623fc7f73535f463{min-height:100vh;width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;background-color:#F9FAFB;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";padding:20px;position:relative;overflow:hidden}.login-wrapper.jsx-623fc7f73535f463{position:relative;z-index:10;width:100%;max-width:400px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.login-card.jsx-623fc7f73535f463{width:100%;background:var(--glass-bg)!important;backdrop-filter:var(--glass-backdrop)!important;-webkit-backdrop-filter:var(--glass-backdrop)!important;border:var(--glass-border)!important;-webkit-box-shadow:var(--glass-shadow)!important;-moz-box-shadow:var(--glass-shadow)!important;box-shadow:var(--glass-shadow)!important;padding:48px 40px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;position:relative;z-index:10}.glass-contrast{-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px}.header.jsx-623fc7f73535f463{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;text-align:center;margin-bottom:40px}.logo.jsx-623fc7f73535f463{height:80px;width:auto;-o-object-fit:contain;object-fit:contain;margin-bottom:24px}.title.jsx-623fc7f73535f463{font-size:24px;font-weight:700;color:#111827;margin:0 0 8px;letter-spacing:-.025em}.subtitle.jsx-623fc7f73535f463{font-size:15px;color:#6B7280;margin:0;line-height:1.5}.global-error.jsx-623fc7f73535f463{background:#FEF2F2;border:1px solid#FECACA;color:#991B1B;padding:12px 16px;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:12px;font-size:14px;font-weight:500;margin-bottom:24px}.form-stack.jsx-623fc7f73535f463{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:20px}.submit-btn.jsx-623fc7f73535f463{margin-top:12px;width:100%;padding:16px;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;border:none;background:#111827;color:#FFF;font-size:16px;font-weight:600;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:8px;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.submit-btn.jsx-623fc7f73535f463:hover:not(:disabled){background:#000;-webkit-transform:translatey(-1px);-moz-transform:translatey(-1px);-ms-transform:translatey(-1px);-o-transform:translatey(-1px);transform:translatey(-1px);-webkit-box-shadow:0 4px 12px rgba(0,0,0,.15);-moz-box-shadow:0 4px 12px rgba(0,0,0,.15);box-shadow:0 4px 12px rgba(0,0,0,.15)}.submit-btn.jsx-623fc7f73535f463:focus-visible{outline:2px solid#111827;outline-offset:2px}.submit-btn.jsx-623fc7f73535f463:disabled{background:#9CA3AF;cursor:not-allowed;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none}.spin.jsx-623fc7f73535f463{-webkit-animation:spin.8s linear infinite;-moz-animation:spin.8s linear infinite;-o-animation:spin.8s linear infinite;animation:spin.8s linear infinite}@-webkit-keyframes spin{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{from{-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{from{-o-transform:rotate(0deg);transform:rotate(0deg)}to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.footer.jsx-623fc7f73535f463{margin-top:32px;text-align:center;border-top:1px solid rgba(0,0,0,.05);padding-top:24px}.footer.jsx-623fc7f73535f463 p.jsx-623fc7f73535f463{font-size:12px;color:#9CA3AF;margin:0}@media(max-width:640px){.page-container.jsx-623fc7f73535f463{-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;padding-top:60px}.login-card.jsx-623fc7f73535f463{padding:32px 24px}.logo.jsx-623fc7f73535f463{height:72px}.title.jsx-623fc7f73535f463{font-size:22px}}'})]})}}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=46863)}),_N_E=e.O()}]);