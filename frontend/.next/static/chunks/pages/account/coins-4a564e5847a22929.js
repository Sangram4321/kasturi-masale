(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2637],{53219:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});let i=(0,n(91373).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},54463:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});let i=(0,n(91373).Z)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},84534:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/coins",function(){return n(90220)}])},90220:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var i=n(85893),r=n(67294),s=n(11163),o=n(9008),a=n.n(o),l=n(41664),d=n.n(l),c=n(53219),h=n(54463);function p(){var e;let t=(0,s.useRouter)(),[n,o]=(0,r.useState)(!0),[l,p]=(0,r.useState)(null),[x,u]=(0,r.useState)({balance:0,pendingBalance:0,tier:"Bronze",nextTier:"Silver",progress:0,coinsToNext:100,history:[]});return(0,r.useEffect)(()=>{(async()=>{let e=localStorage.getItem("token"),n=localStorage.getItem("user");if(!e||!n){t.push("/login?redirect=/account/coins");return}p(JSON.parse(n));try{let t=await fetch("/api/user/wallet/me",{headers:{Authorization:"Bearer ".concat(e)}}),n=await t.json();n.success&&u(n)}catch(e){console.error("Failed to fetch wallet",e)}finally{o(!1)}})()},[t]),(0,i.jsxs)("div",{style:g.page,children:[(0,i.jsx)(a(),{children:(0,i.jsx)("title",{children:"Kasturi Trust Wallet | Authenticity Rewards"})}),(0,i.jsxs)("div",{style:g.container,children:[(0,i.jsx)("div",{style:g.headerLink,children:(0,i.jsx)(d(),{href:"/profile",legacyBehavior:!0,children:(0,i.jsxs)("a",{style:g.backLink,children:[(0,i.jsx)(c.Z,{size:18})," Back to Dashboard"]})})}),(0,i.jsxs)("div",{style:g.hero,children:[(0,i.jsxs)("div",{style:g.heroTop,children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("h1",{style:g.greeting,children:["Namaste, ",null==l?void 0:null===(e=l.name)||void 0===e?void 0:e.split(" ")[0]]}),(0,i.jsx)("p",{style:g.lastUpdated,children:"Last updated: Today"})]}),(0,i.jsxs)("div",{style:g.tierBadge,children:[(0,i.jsx)("span",{style:g.tierIcon,children:"â˜…"})," ",x.tier," Member"]})]}),(0,i.jsxs)("div",{style:g.balanceSection,children:[(0,i.jsxs)("div",{style:g.balanceRow,children:[(0,i.jsx)("span",{style:g.coinIcon,children:"\uD83E\uDE99"}),(0,i.jsx)("span",{style:g.balanceAmount,children:x.balance}),(0,i.jsx)("span",{style:g.balanceLabel,children:"Active Kasturi Coins"})]}),x.pendingBalance>0&&(0,i.jsxs)("div",{style:g.pendingRow,children:["+ ",x.pendingBalance," Pending (COD)"]})]}),(0,i.jsxs)("div",{style:g.progressSection,children:[(0,i.jsxs)("div",{style:g.progressHeader,children:[(0,i.jsxs)("span",{children:["Current Status: ",(0,i.jsx)("strong",{children:x.tier})]}),"Gold"!==x.tier&&(0,i.jsxs)("span",{style:g.nextTier,children:["Reach ",x.nextTier," at ",x.balance+x.coinsToNext," coins"]})]}),(0,i.jsx)("div",{style:g.track,children:(0,i.jsx)("div",{style:{...g.fill,width:"".concat(x.progress,"%")}})}),(0,i.jsx)("p",{style:g.tierBenefit,children:"Higher tiers unlock additional benefits like early access to new batches. (Coming Soon)"})]})]}),(0,i.jsxs)("div",{style:g.ledgerSection,children:[(0,i.jsx)("h3",{style:g.sectionTitle,children:"Transaction Ledger"}),0===x.history.length?(0,i.jsx)("p",{style:g.emptyState,children:"No transactions yet. Genuine purchases earn trust coins."}):(0,i.jsxs)("table",{style:g.table,children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{style:g.thRow,children:[(0,i.jsx)("th",{style:g.th,children:"Date"}),(0,i.jsx)("th",{style:g.th,children:"Activity"}),(0,i.jsx)("th",{style:{...g.th,textAlign:"right"},children:"Coins"})]})}),(0,i.jsx)("tbody",{children:x.history.map((e,t)=>(0,i.jsxs)("tr",{style:g.tr,children:[(0,i.jsx)("td",{style:g.tdDate,children:new Date(e.createdAt).toLocaleDateString()}),(0,i.jsxs)("td",{style:g.tdDesc,children:[e.description,"PENDING"===e.status&&(0,i.jsx)("span",{style:g.pendingTag,children:"PENDING"})]}),(0,i.jsxs)("td",{style:{...g.tdAmount,color:"CREDIT"===e.type?"#16A34A":"#DC2626"},children:["CREDIT"===e.type?"+":"-",e.amount]})]},t))})]})]}),(0,i.jsx)("div",{style:g.sealSection,children:(0,i.jsxs)("div",{style:g.sealBox,children:[(0,i.jsx)("div",{style:g.sealIcon,children:(0,i.jsx)(h.Z,{size:32,color:"#B8860B"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{style:g.sealTitle,children:"Authenticity Guarantee"}),(0,i.jsx)("p",{style:g.sealText,children:"Each Kasturi Coin confirms your product came directly from Kasturi Masale, Kolhapur. We do not sell on third-party apps to ensure quality."})]})]})})]})]})}let g={page:{minHeight:"100vh",background:"#F9F6F1",padding:"120px 20px 40px",fontFamily:"'Inter', sans-serif"},container:{maxWidth:600,margin:"0 auto"},headerLink:{marginBottom:20},backLink:{display:"inline-flex",alignItems:"center",gap:8,color:"#666",textDecoration:"none",fontSize:14,fontWeight:500},hero:{background:"#fff",borderRadius:20,padding:32,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05)",marginBottom:24},heroTop:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:32},greeting:{fontSize:24,fontWeight:700,color:"#111",margin:"0 0 4px 0"},lastUpdated:{fontSize:13,color:"#666",margin:0},tierBadge:{display:"inline-flex",alignItems:"center",gap:6,background:"#FFFBEB",color:"#B45309",padding:"6px 12px",borderRadius:50,fontSize:13,fontWeight:600},balanceSection:{textAlign:"center",marginBottom:32},balanceRow:{display:"flex",alignItems:"center",justifyContent:"center",gap:12},coinIcon:{fontSize:32},balanceAmount:{fontSize:48,fontWeight:800,color:"#D97706",lineHeight:1},balanceLabel:{fontSize:13,color:"#999",fontWeight:600,textTransform:"uppercase",marginTop:6},pendingRow:{marginTop:8,fontSize:13,color:"#D97706",background:"#FFFBEB",display:"inline-block",padding:"4px 10px",borderRadius:8},progressSection:{background:"#F9FAFB",padding:16,borderRadius:12},progressHeader:{display:"flex",justifyContent:"space-between",fontSize:13,color:"#4B5563",marginBottom:8},nextTier:{fontSize:12,color:"#9CA3AF"},track:{height:8,background:"#E5E7EB",borderRadius:4,overflow:"hidden",marginBottom:12},fill:{height:"100%",background:"linear-gradient(90deg, #D97706, #F59E0B)",borderRadius:4},tierBenefit:{fontSize:12,color:"#6B7280",margin:0,fontStyle:"italic"},ledgerSection:{marginBottom:32},sectionTitle:{fontSize:18,fontWeight:600,marginBottom:16,color:"#111"},table:{width:"100%",borderCollapse:"collapse"},thRow:{borderBottom:"2px solid #E5E7EB"},th:{textAlign:"left",padding:"12px 4px",fontSize:12,color:"#9CA3AF",textTransform:"uppercase",fontWeight:600},tr:{borderBottom:"1px solid #F3F4F6"},tdDate:{padding:"16px 4px",fontSize:13,color:"#6B7280"},tdDesc:{padding:"16px 4px",fontSize:14,fontWeight:500,color:"#111"},pendingTag:{fontSize:10,background:"#FFFBEB",color:"#D97706",padding:"2px 6px",borderRadius:4,marginLeft:8,fontWeight:700},tdAmount:{padding:"16px 4px",textAlign:"right",fontWeight:700,fontSize:15},sealSection:{opacity:.8},sealBox:{display:"flex",alignItems:"center",gap:16,border:"1px dashed #D97706",padding:20,borderRadius:16,background:"#FFFBEB"},sealIcon:{width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",background:"#fff",borderRadius:"50%"},sealTitle:{fontSize:14,color:"#B45309",margin:"0 0 4px 0",fontWeight:700},sealText:{fontSize:12,color:"#78350F",margin:0,lineHeight:1.4}}}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=84534)}),_N_E=e.O()}]);