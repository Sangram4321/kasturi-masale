(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[674],{87518:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/coins",function(){return n(14949)}])},14949:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return c}});var t=n(85893),s=n(67294),r=n(64248),o=n(11163),l=n(9008),a=n.n(l);let d=()=>(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M12 20v-6M6 20V10M18 20V4"})});function c(){let[e,i]=(0,s.useState)(0),[n,l]=(0,s.useState)([]),[c,h]=(0,s.useState)(!0),[x,p]=(0,s.useState)(!1),[g,y]=(0,s.useState)(null),j=(0,o.useRouter)();(0,s.useEffect)(()=>{(async()=>{let e=localStorage.getItem("user");if(!e){p(!1),h(!1);return}p(!0);let n=JSON.parse(e);try{let e=await fetch("/api/user/wallet/".concat(n.uid)),t=await e.json();if(t.success&&(i(t.balance),l(t.transactions)),n.uid){let e=await fetch("/api/user/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),i=await e.json();i.success&&i.user.referralCode&&y(i.user.referralCode)}}catch(e){console.error("Failed to load wallet",e)}finally{h(!1)}})()},[j]);let f={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return(0,t.jsxs)("div",{style:u.page,children:[(0,t.jsx)(a(),{children:(0,t.jsx)("title",{children:"Kasturi Coins | Kasturi Masale"})}),(0,t.jsx)("div",{style:u.container,children:(0,t.jsxs)(r.E.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:[(0,t.jsx)(r.E.h1,{variants:f,style:u.title,children:"Kasturi Coins"}),(0,t.jsx)(r.E.p,{variants:f,style:u.subtitle,children:"Our Loyalty Program & Policy"}),x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.E.div,{variants:f,style:u.card,children:[(0,t.jsx)("div",{style:u.coinIconWrap,children:(0,t.jsx)("span",{style:{fontSize:48},children:"\uD83E\uDE99"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:u.balanceLabel,children:"Current Balance"}),(0,t.jsxs)("div",{style:u.balanceValue,children:[c?"...":e," ",(0,t.jsx)("span",{style:u.currency,children:"Coins"})]})]}),(0,t.jsxs)("div",{style:u.valueHint,children:["= ₹",e," value"]})]}),(0,t.jsxs)(r.E.div,{variants:f,style:u.historySection,children:[(0,t.jsxs)("div",{style:u.historyTitle,children:[(0,t.jsx)(d,{})," Transaction History"]}),c?(0,t.jsx)("p",{style:{opacity:.5},children:"Loading transactions..."}):0===n.length?(0,t.jsx)("div",{style:u.empty,children:"No transactions yet. Start shopping!"}):(0,t.jsx)("div",{style:u.list,children:n.map((e,i)=>(0,t.jsxs)(r.E.div,{style:u.txnItem,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.05*i},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:u.txnDesc,children:e.description}),(0,t.jsx)("div",{style:u.txnDate,children:new Date(e.createdAt).toLocaleDateString()})]}),(0,t.jsxs)("div",{style:{...u.txnAmount,color:"credit"===e.type?"#2E7D32":"#C02729"},children:["credit"===e.type?"+":"-",e.amount,e.status&&"COMPLETED"!==e.status&&(0,t.jsx)("span",{style:{display:"block",fontSize:10,marginTop:2,color:"PENDING"===e.status?"#D97706":"#DC2626",background:"PENDING"===e.status?"#FFFBEB":"#FEE2E2",padding:"2px 6px",borderRadius:4,textAlign:"right"},children:e.status})]})]},e._id||i))})]})]}):(0,t.jsxs)(r.E.div,{variants:f,style:u.guestCta,children:[(0,t.jsx)("p",{style:{marginBottom:16,fontSize:16,fontWeight:500},children:"Login to check your Coin Balance"}),(0,t.jsx)("button",{onClick:()=>j.push("/login"),style:u.loginBtn,children:"Login / Sign Up"})]}),(0,t.jsx)("div",{style:{marginTop:40,borderTop:"2px dashed #ddd",paddingTop:40},children:(0,t.jsxs)(r.E.div,{variants:f,style:u.infoBox,children:[(0,t.jsxs)("div",{style:{marginBottom:24},children:[(0,t.jsx)("h3",{style:{fontSize:20,marginBottom:16},children:"\uD83E\uDE99 Kasturi Coins – How It Works"}),(0,t.jsx)("p",{style:{fontSize:14,color:"#555",lineHeight:1.6},children:"Kasturi Coins are our loyalty rewards that help you save on future purchases at Kasturi Masale."})]}),(0,t.jsxs)("div",{style:u.policySection,children:[(0,t.jsx)("h4",{children:"\uD83D\uDCB0 How You Earn Kasturi Coins"}),(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:["You earn ",(0,t.jsx)("strong",{children:"5% Kasturi Coins"})," on the total value of your order."]}),(0,t.jsx)("li",{children:"Coins are credited based on successful orders only."})]}),(0,t.jsxs)("div",{style:u.exampleBox,children:[(0,t.jsx)("strong",{children:"Example:"})," If you place an order worth ₹1000, you earn ",(0,t.jsx)("strong",{children:"50 Kasturi Coins"}),"."]})]}),(0,t.jsxs)("div",{style:u.policySection,children:[(0,t.jsx)("h4",{children:"\uD83D\uDE9A When Coins Are Credited"}),(0,t.jsxs)("div",{style:{marginBottom:12},children:[(0,t.jsx)("strong",{style:{color:"#2E7D32"},children:"\uD83D\uDFE2 Prepaid Orders (UPI / Card / Net Banking)"}),(0,t.jsx)("p",{children:"Coins are credited after payment is successfully confirmed."})]}),(0,t.jsxs)("div",{style:{marginBottom:12},children:[(0,t.jsx)("strong",{style:{color:"#F59E0B"},children:"\uD83D\uDFE1 Cash on Delivery (COD) Orders"}),(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:["Coins are shown as ",(0,t.jsx)("strong",{children:"Pending"})," when you place the order."]}),(0,t.jsxs)("li",{children:["Coins become ",(0,t.jsx)("strong",{children:"Active"})," only after the order is delivered successfully."]})]}),(0,t.jsx)("p",{style:{fontSize:13,fontStyle:"italic",marginTop:4},children:"\uD83D\uDC49 Pending coins cannot be used until delivery is completed."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{style:{color:"#DC2626"},children:"❌ Cancelled / Returned Orders"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"If an order is cancelled, returned, or marked RTO, no coins are credited."}),(0,t.jsx)("li",{children:"If coins were credited earlier for a prepaid order and the order is refunded, those coins will be reversed automatically."})]})]})]}),(0,t.jsxs)("div",{style:u.policySection,children:[(0,t.jsx)("h4",{children:"\uD83D\uDED2 How to Use Kasturi Coins"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)("strong",{children:"1 Kasturi Coin = ₹0.80"})}),(0,t.jsxs)("li",{children:["Minimum required to use coins: ",(0,t.jsx)("strong",{children:"100 Coins"})]}),(0,t.jsxs)("li",{children:["You can use coins for up to ",(0,t.jsx)("strong",{children:"30%"})," of your cart value."]})]}),(0,t.jsxs)("div",{style:u.exampleBox,children:[(0,t.jsx)("strong",{children:"Example:"})," If your cart total is ₹500:",(0,t.jsx)("br",{}),"Maximum coins you can use = ₹150 (30%)",(0,t.jsx)("br",{}),"Coins required = 188 coins (₹150 \xf7 ₹0.80)"]})]}),(0,t.jsxs)("div",{style:u.policySection,children:[(0,t.jsx)("h4",{children:"\uD83D\uDCCA Where You Can See Your Coins"}),(0,t.jsx)("p",{children:"Once logged in, you can see your Kasturi Coins:"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"In the website header"}),(0,t.jsx)("li",{children:"In the mobile menu"}),(0,t.jsx)("li",{children:"On the Orders / Wallet page"})]}),(0,t.jsx)("p",{style:{marginTop:8},children:"Coins are shown as:"}),(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Active Coins"})," – Available to use"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Pending Coins"})," – Will be activated after delivery (COD orders)"]})]})]}),(0,t.jsxs)("div",{style:u.policySection,children:[(0,t.jsx)("h4",{children:"\uD83D\uDD12 Important Rules"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"Kasturi Coins are non-transferable"}),(0,t.jsx)("li",{children:"Coins cannot be exchanged for cash"}),(0,t.jsx)("li",{children:"Coins can only be used on Kasturi Masale website"}),(0,t.jsx)("li",{children:"Kasturi Masale reserves the right to update the Coins policy in the future"})]})]}),(0,t.jsxs)("div",{style:u.policySection,children:[(0,t.jsx)("h4",{children:"\uD83D\uDE4B Need Help?"}),(0,t.jsx)("p",{children:"If you have any questions about Kasturi Coins, contact us on WhatsApp / Support and we’ll be happy to help."})]}),g&&(0,t.jsxs)("div",{style:{marginTop:16,padding:16,background:"#F3F4F6",borderRadius:12},children:[(0,t.jsx)("p",{style:{margin:"0 0 8px 0",fontSize:13,color:"#555"},children:"Your Referral Code:"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,t.jsx)("code",{style:{fontSize:18,fontWeight:"bold",letterSpacing:1,color:"#C02729"},children:g}),(0,t.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(g),alert("Copied!")},style:{padding:"4px 8px",fontSize:11,cursor:"pointer",border:"1px solid #ddd",borderRadius:4,background:"#fff"},children:"Copy"})]})]})]})})]})})]})}let u={page:{minHeight:"100vh",background:"#F7EFDB",padding:"40px 20px",fontFamily:"'Noto Sans Devanagari', sans-serif"},container:{maxWidth:600,margin:"0 auto"},title:{fontSize:32,fontWeight:800,color:"#2D2A26",marginBottom:8},subtitle:{fontSize:16,color:"#5D4037",marginBottom:32,opacity:.8},card:{background:"linear-gradient(135deg, #2D2A26, #453F39)",borderRadius:24,padding:32,color:"#fff",display:"flex",alignItems:"center",gap:24,position:"relative",overflow:"hidden",boxShadow:"0 20px 40px rgba(0,0,0,0.15)"},coinIconWrap:{background:"rgba(255,255,255,0.1)",borderRadius:"50%",width:80,height:80,display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid rgba(255,255,255,0.1)"},balanceLabel:{fontSize:14,opacity:.7,textTransform:"uppercase",letterSpacing:1,fontWeight:600},balanceValue:{fontSize:40,fontWeight:800,color:"#FFD700",lineHeight:1.1,marginTop:4},currency:{fontSize:18,color:"rgba(255,255,255,0.6)",fontWeight:500},valueHint:{position:"absolute",right:32,top:32,background:"rgba(255,215,0,0.2)",color:"#FFD700",padding:"6px 12px",borderRadius:20,fontSize:12,fontWeight:700},infoBox:{margin:"32px 0",background:"#fff",padding:24,borderRadius:20,boxShadow:"0 4px 12px rgba(0,0,0,0.04)"},historySection:{marginTop:32},historyTitle:{fontSize:18,fontWeight:700,marginBottom:16,display:"flex",alignItems:"center",gap:8,color:"#2D2A26"},list:{display:"flex",flexDirection:"column",gap:12},txnItem:{background:"#fff",padding:"16px 20px",borderRadius:16,display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.03)"},txnDesc:{fontSize:15,fontWeight:600,color:"#2D2A26"},txnDate:{fontSize:12,color:"#888",marginTop:4},txnAmount:{fontSize:18,fontWeight:700},empty:{textAlign:"center",padding:40,opacity:.5,fontSize:14},policySection:{marginBottom:32,borderBottom:"1px solid #eee",paddingBottom:24},exampleBox:{background:"#FFFBEB",border:"1px solid #FCD34D",borderRadius:8,padding:"12px 16px",marginTop:12,fontSize:14,color:"#92400E"},guestCta:{margin:"60px 0",textAlign:"center",padding:40,background:"rgba(255,255,255,0.5)",borderRadius:24,border:"1px dashed #C02729"},loginBtn:{background:"#C02729",color:"#fff",border:"none",padding:"12px 32px",fontSize:16,fontWeight:700,borderRadius:50,cursor:"pointer",boxShadow:"0 4px 12px rgba(192, 39, 41, 0.3)"}}}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=87518)}),_N_E=e.O()}]);